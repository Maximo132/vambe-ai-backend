2025-06-19 10:25:39,042 - INFO - Creando tablas...
2025-06-19 10:25:39,052 - INFO - Conectando a la base de datos: postgresql+psycopg2://chatbot_user:*****@localhost:5432/chatbot_db
2025-06-19 10:25:39,166 - INFO - ¡Base de datos inicializada correctamente!
2025-06-19 10:27:52,037 - INFO - Creando tablas...
2025-06-19 10:27:52,049 - INFO - Configurando conexión a la base de datos: postgresql+psycopg2://chatbot_user:*****@localhost:5432/chatbot_db
2025-06-19 10:27:52,051 - INFO - Conexión a la base de datos configurada correctamente
2025-06-19 10:27:52,051 - INFO - Configurando conexión a la base de datos: postgresql+psycopg2://chatbot_user:*****@localhost:5432/chatbot_db
2025-06-19 10:27:52,053 - INFO - Conexión a la base de datos configurada correctamente
2025-06-19 10:27:52,097 - INFO - select pg_catalog.version()
2025-06-19 10:27:52,098 - INFO - [raw sql] {}
2025-06-19 10:27:52,101 - INFO - select current_schema()
2025-06-19 10:27:52,102 - INFO - [raw sql] {}
2025-06-19 10:27:52,105 - INFO - show standard_conforming_strings
2025-06-19 10:27:52,105 - INFO - [raw sql] {}
2025-06-19 10:27:52,108 - INFO - BEGIN (implicit)
2025-06-19 10:27:52,109 - INFO - COMMIT
2025-06-19 10:27:52,109 - ERROR - Error al inicializar la base de datos: Not an executable object: "\n                SELECT table_name \n                FROM information_schema.tables \n                WHERE table_schema = 'public';\n            "
Traceback (most recent call last):
  File "C:\Users\maxva\AppData\Local\Programs\Python\Python39\lib\site-packages\sqlalchemy\engine\base.py", line 1411, in execute
    meth = statement._execute_on_connection
AttributeError: 'str' object has no attribute '_execute_on_connection'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\flow\backend\chatbot-api\init_db.py", line 61, in main
    result = conn.execute("""
  File "C:\Users\maxva\AppData\Local\Programs\Python\Python39\lib\site-packages\sqlalchemy\engine\base.py", line 1413, in execute
    raise exc.ObjectNotExecutableError(statement) from err
sqlalchemy.exc.ObjectNotExecutableError: Not an executable object: "\n                SELECT table_name \n                FROM information_schema.tables \n                WHERE table_schema = 'public';\n            "
2025-06-19 10:29:14,446 - INFO - Iniciando inicialización de la base de datos...
2025-06-19 10:29:14,449 - DEBUG - sys.path: ['C:\\flow\\backend\\chatbot-api', 'C:\\Users\\maxva\\AppData\\Local\\Programs\\Python\\Python39\\python39.zip', 'C:\\Users\\maxva\\AppData\\Local\\Programs\\Python\\Python39\\DLLs', 'C:\\Users\\maxva\\AppData\\Local\\Programs\\Python\\Python39\\lib', 'C:\\Users\\maxva\\AppData\\Local\\Programs\\Python\\Python39', 'C:\\Users\\maxva\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages', 'C:\\flow\\backend\\chatbot-api\\src']
2025-06-19 10:29:14,450 - INFO - Usando URL de base de datos: postgresql+psycopg2://chatbot_user:chatbot_password@localhost:5432/chatbot_db
2025-06-19 10:29:16,138 - DEBUG - loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>
2025-06-19 10:29:16,139 - DEBUG - loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>
2025-06-19 10:29:16,139 - DEBUG - loaded lazy attr 'BytesIO': <class '_io.BytesIO'>
2025-06-19 10:29:16,380 - INFO - Importando modelos...
2025-06-19 10:29:16,390 - INFO - Configurando conexión a la base de datos: postgresql+psycopg2://chatbot_user:*****@localhost:5432/chatbot_db
2025-06-19 10:29:16,392 - INFO - Conexión a la base de datos configurada correctamente
2025-06-19 10:29:16,404 - INFO - Creando tablas...
2025-06-19 10:29:16,433 - INFO - select pg_catalog.version()
2025-06-19 10:29:16,433 - INFO - [raw sql] {}
2025-06-19 10:29:16,437 - INFO - select current_schema()
2025-06-19 10:29:16,438 - INFO - [raw sql] {}
2025-06-19 10:29:16,442 - INFO - show standard_conforming_strings
2025-06-19 10:29:16,442 - INFO - [raw sql] {}
2025-06-19 10:29:16,446 - INFO - BEGIN (implicit)
2025-06-19 10:29:16,447 - INFO - COMMIT
2025-06-19 10:29:16,451 - INFO - BEGIN (implicit)
2025-06-19 10:29:16,452 - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s]) AND pg_catalog.pg_class.relpersistence != %(relpersistence_1)s AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-06-19 10:29:16,453 - INFO - [generated in 0.00201s] {'param_1': 'r', 'param_2': 'p', 'relpersistence_1': 't', 'nspname_1': 'pg_catalog'}
2025-06-19 10:29:16,480 - INFO - ROLLBACK
2025-06-19 10:29:16,482 - INFO - Tablas en la base de datos: []
2025-06-19 10:29:16,482 - WARNING - Faltan tablas: {'conversations', 'messages'}
2025-06-19 10:29:16,483 - INFO - Metadatos de tablas:
2025-06-19 10:29:16,483 - INFO - ¡Base de datos inicializada correctamente!
2025-06-19 10:29:53,401 - INFO - Iniciando inicialización de la base de datos...
2025-06-19 10:29:53,402 - DEBUG - sys.path: ['C:\\flow\\backend\\chatbot-api', 'C:\\Users\\maxva\\AppData\\Local\\Programs\\Python\\Python39\\python39.zip', 'C:\\Users\\maxva\\AppData\\Local\\Programs\\Python\\Python39\\DLLs', 'C:\\Users\\maxva\\AppData\\Local\\Programs\\Python\\Python39\\lib', 'C:\\Users\\maxva\\AppData\\Local\\Programs\\Python\\Python39', 'C:\\Users\\maxva\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages', 'C:\\flow\\backend\\chatbot-api\\src']
2025-06-19 10:29:53,404 - INFO - Usando URL de base de datos: postgresql+psycopg2://chatbot_user:chatbot_password@localhost:5432/chatbot_db
2025-06-19 10:29:54,942 - DEBUG - loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>
2025-06-19 10:29:54,942 - DEBUG - loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>
2025-06-19 10:29:54,943 - DEBUG - loaded lazy attr 'BytesIO': <class '_io.BytesIO'>
2025-06-19 10:29:55,261 - INFO - Importando base de datos y modelos...
2025-06-19 10:29:55,281 - INFO - Configurando conexión a la base de datos: postgresql+psycopg2://chatbot_user:*****@localhost:5432/chatbot_db
2025-06-19 10:29:55,282 - INFO - Conexión a la base de datos configurada correctamente
2025-06-19 10:29:55,282 - INFO - Configurando conexión a la base de datos: postgresql+psycopg2://chatbot_user:*****@localhost:5432/chatbot_db
2025-06-19 10:29:55,285 - INFO - Conexión a la base de datos configurada correctamente
2025-06-19 10:29:55,285 - INFO - Creando tablas...
2025-06-19 10:29:55,307 - INFO - select pg_catalog.version()
2025-06-19 10:29:55,307 - INFO - [raw sql] {}
2025-06-19 10:29:55,310 - INFO - select current_schema()
2025-06-19 10:29:55,311 - INFO - [raw sql] {}
2025-06-19 10:29:55,314 - INFO - show standard_conforming_strings
2025-06-19 10:29:55,315 - INFO - [raw sql] {}
2025-06-19 10:29:55,317 - INFO - BEGIN (implicit)
2025-06-19 10:29:55,318 - INFO - COMMIT
2025-06-19 10:29:55,323 - INFO - BEGIN (implicit)
2025-06-19 10:29:55,323 - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s]) AND pg_catalog.pg_class.relpersistence != %(relpersistence_1)s AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-06-19 10:29:55,324 - INFO - [generated in 0.00144s] {'param_1': 'r', 'param_2': 'p', 'relpersistence_1': 't', 'nspname_1': 'pg_catalog'}
2025-06-19 10:29:55,343 - INFO - ROLLBACK
2025-06-19 10:29:55,344 - INFO - Tablas en la base de datos: []
2025-06-19 10:29:55,345 - WARNING - Faltan tablas: {'conversations', 'messages'}
2025-06-19 10:29:55,345 - INFO - Metadatos de tablas:
2025-06-19 10:29:55,345 - INFO - ¡Base de datos inicializada correctamente!
